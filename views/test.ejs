<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/stylesheets/base.css' />
    <script type='text/javascript' src='/socket.io/socket.io.js'></script>
    <script type='text/javascript' src='javascripts/jquery.js'></script>
    <script type='text/javascript' src='javascripts/Word.js'></script>
    <script type='text/javascript' src='javascripts/questionController.js'></script>
    <script type='text/javascript' src='javascripts/viewController.js'></script>
    <script type='text/javascript' src='javascripts/Mediator.js'></script>

    <script type='text/javascript'>
    $(function(){
        var vController = new viewController();
	var mediator = new Mediator( vController );

	var qController = new questionController( mediator );
	mediator.qController = qController;

	$(window).keyup(function(e){
	    qController.judge( e.keyCode );
	});	

	$('#teamAButton').click( function(){ qController.setTeam( 'a' ) }  );
	$('#teamBButton').click( function(){ qController.setTeam( 'b' ) }  );

	var socket = io.connect('http://localhost:3000');
	socket.on('connect', function(){
	    console.log('connected');
	});

	socket.on('changed', function( receiveData ){
	    var tmp = receiveData.split(',');
	    var word = new Word('動く', 'ugoku' );
	    vController.setWord(tmp[0], word, tmp[1]);
	});

	qController.socket = socket;

	var word = new Word('動く', 'ugoku');
	vController.setWord('a', word, 0);
	vController.setWord('b', word, 0);

    });

    </script>
  </head>

  <body>
    TEST Page.
<div>
    <label><input id='teamAButton' type='radio' value='a' name='team' >team A</label>
    <br>
    <label><input id='teamBButton' type='radio' value='b' name='team' >team B</label>
</div>

<h2>Team A</h2>
<div class='team'>
<div id='judge'></div>
<div id='score_a' class='score'></div>
<div id='word_word_a' class='word'></div>
<div id='word_ruby_a' class='ruby'></div>
</div>


<h2>Team B</h2>
<div class='team'>
<div id='judge'></div>
<div id='score_b' class='score'></div>
<div id='word_word_b' class='word'></div>
<div id='word_ruby_b' class='ruby'></div>
</div>

  </body>
</html>
